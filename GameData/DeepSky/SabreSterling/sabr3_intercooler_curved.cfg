PART
{
	name = dss3_nacelle_c
	module = Part
	author = JadeOfMaar
	MODEL
	{
		model = DeepSky/SabreSterling/Assets/nacell3c
		scale = 1, 1, 1
	}
	rescaleFactor = 1
	TechRequired = hypersonicFlight
	entryCost = 6200
	cost = 4800
	category = Aero
	subcategory = 0
	title = DS SABRE Precedent Intercooler Curved
	manufacturer = Deep Sky
	description = The core of SABRE Sterling, this variable device holds ample IntakeAir and a great and powerful heat exchanger system able to flash blazing hot air into precious Oxidizer, considerably reducing the amount that needs to be carried on launch.
	attachRules = 1,1,1,1,0
	mass = 4.4
	dragModelType = default
	thermalMassModifier = 1.5
	skinMassPerArea = 2
	emissiveConstant = 0.95
	heatConductivity = 0.24
	maximum_drag = 0.2
	minimum_drag = 0.3
	angularDrag = 1
	crashTolerance = 10
	maxTemp = 2700 // = 2900
	breakingForce = 1100
	breakingTorque = 1100
	fuelCrossFeed = True
	bulkheadProfiles = size3, srf
	tags = sabre intercooler precooler
	
	NODE
	{
		name = top
		transform = top
		size = 2
		method = FIXED_JOINT
	}
	NODE
	{
		name = top1
		transform = top1
		size = 2
		method = FIXED_JOINT
	}
	NODE
	{
		name = top2
		transform = top2
		size = 2
		method = FIXED_JOINT
	}
	NODE
	{
		name = bottom
		transform = bottom
		size = 3
		method = FIXED_JOINT
	}
	
	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = MillPower
		switcherDescription = Intercooler Capacity
		switchInFlight = True
		baseVolume = 1000
		SUBTYPE
		{
			name = 5m
			title = 5m
			transform = C_5m
			tankType = DS_Mill
			addedMass = 0
			addedCost = 0
			volumeAdded = 0
			node = top
		}
		SUBTYPE
		{
			name = 6m
			title = 6.5m
			transform = C_6_5m
			tankType = DS_Mill
			addedMass = 0.8
			addedCost = 1200
			volumeAdded = 500
			node = top1
		}
		SUBTYPE
		{
			name = 8m
			title = 8m
			transform = C_8m
			tankType = DS_Mill
			addedMass = 1.6
			addedCost = 2400
			volumeAdded = 1000
			node = top2
		}
	}
	MODULE:NEEDS[ThorTech]
	{
		name = ModuleResourceIntake
		resourceName = MillPower
		checkForOxygen = true
		intakeTransformName = top
		area = 0.018
		intakeSpeed = 10
		machCurve
		{
			key = 2.5 0
			key = 4 0.05
		}
		moduleIsEnabled = false
		showUpgradesInModuleInfo = true
		UPGRADES
		{
			UPGRADE
			{
				name__ = ds00_LOXDistiller
				description__ = MillPower for Oxidizer
				techRequired__ = aerospaceTech
				moduleIsEnabled = true
			}
		}
	}
	
	MODULE:NEEDS[ThorTech]
	{
		name = ModuleResourceConverter
		AlwaysActive = true
		ConverterName = LOX Distiller
		AutoShutdown = false
		GeneratesHeat = false
		UseSpecialistBonus = false
		INPUT_RESOURCE
		{
			ResourceName = MillPower
			Ratio = 1
		}
		INPUT_RESOURCE
		{
			ResourceName = IntakeAir
			Ratio = 34
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 34
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Oxidizer
			Ratio = 34
			DumpExcess = True
		}
		// moduleIsEnabled = false
		// showUpgradesInModuleInfo = true
		// UPGRADES
		// {
			// UPGRADE
			// {
				// name__ = ds00_LOXDistiller
				// description__ = IntakeAir to Oxizdizer.
				// techRequired__ = aerospaceTech
				// moduleIsEnabled = true
			// }
		// }
	}
	MODULE
	{
		name = ModuleFuelJettison
	}
	// MODULE
	// {
		// name = ModuleAnimateHeat
		// ThermalAnim = Nacelle2Heat
	// }
}
